{"version":3,"sources":["js/utils.js","js/script.js"],"names":["randomInt","min","max","Math","floor","random","randomFloat","randomColor","colors","length","getDistance","x1","y1","x2","y2","xDistance","yDistance","sqrt","pow","rotate","velocity","angle","rotatedVelocities","x","cos","y","sin","resolveCollision","particle","otherParticle","xVelocityDiff","yVelocityDiff","xDist","yDist","atan2","m1","mass","m2","u1","u2","v1","v2","vFinal1","vFinal2","module","exports","canvas","document","querySelector","c","getContext","width","window","innerWidth","height","innerHeight","console","log","starsNbr","gravity","friction","addEventListener","event","heigt","init","Star","radius","color","prototype","draw","save","beginPath","arc","PI","fillStyle","shadowColor","shadowBlur","fill","closePath","restore","update","groundHeight","shatter","i","miniStars","push","MiniStar","call","utils","ttl","opacity","createMountainRange","mountainAmount","mountainWidth","moveTo","lineTo","backgroundGradient","createLinearGradient","addColorStop","stars","backgroundStars","ticker","randomSpawnRate","animate","requestAnimationFrame","fillRect","forEach","backgroundStar","star","index","splice","miniStar"],"mappings":"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","file":"script.d573be0b.js","sourceRoot":"..","sourcesContent":["function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nfunction randomFloat(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nfunction randomColor(colors) {\n  return colors[Math.floor(Math.random() * colors.length)];\n}\n\nfunction getDistance(x1, y1, x2, y2) {\n  let xDistance = x2 - x1;\n  let yDistance = y2 - y1;\n\n  return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));\n}\n\nfunction rotate(velocity, angle) {\n  const rotatedVelocities = {\n      x: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n      y: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\n  };\n\n  return rotatedVelocities;\n}\n\nfunction resolveCollision(particle, otherParticle) {\n  const xVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n  const yVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n  \n  const xDist = otherParticle.x - particle.x;\n  const yDist = otherParticle.y - particle.y;\n\n  if (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {\n      const angle = -Math.atan2(otherParticle.y - particle.y, otherParticle.x - particle.x);\n\n      const m1 = particle.mass;\n      const m2 = otherParticle.mass;\n  \n      const u1 = rotate(particle.velocity, angle);\n      const u2 = rotate(otherParticle.velocity, angle);\n\n      const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\n      const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\n\n      const vFinal1 = rotate(v1, -angle);\n      const vFinal2 = rotate(v2, -angle);\n\n      particle.velocity.x = vFinal1.x;\n      particle.velocity.y = vFinal1.y;\n\n      otherParticle.velocity.x = vFinal2.x;\n      otherParticle.velocity.y = vFinal2.y;\n  }\n}\n\nmodule.exports = { randomInt, randomFloat, randomColor, getDistance, rotate, resolveCollision };","import utils from './utils';\n\nlet canvas = document.querySelector('canvas');\nlet c = canvas.getContext('2d');\n\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\n\nconsole.log(window.innerWidth);\nconsole.log(window.innerHeight);\nconst starsNbr = 1;\n\nconst colors = [\n    '#bfa421',\n    '#7f6d16',\n    '#ffda2b',\n    '#E5C427'\n];\n\nlet gravity = 1;\nlet friction = 0.9;\n\naddEventListener(\"resize\", function(event) {\n    canvas.width = window.innerWidth;\n    canvas.heigt = window.innerHeight;\n    init();\n});\n\naddEventListener(\"click\", function(event) {\n    init();\n});\n\nfunction Star(x, y, radius, color) {\n    this.x = x;\n    this.y = y;\n    this.velocity = {\n        x: (Math.random() - 0.5) * 8,\n        y: 3\n    };\n    this.friction = 0.59;\n    this.gravity = 1;\n    this.mass = 1;\n    this.radius = radius;\n    this.color = color;\n}\n\nStar.prototype.draw = function() {\n    c.save();\n    c.beginPath();\n    c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    c.fillStyle = this.color;\n    c.shadowColor = '#e3eaef';\n    c.shadowBlur = 20;\n    c.fill();\n    c.closePath();\n    c.restore();\n}\n\nStar.prototype.update = function() {\n    this.draw();\n\n    if (this.y + this.radius + this.velocity.y > canvas.height - groundHeight) {\n        this.velocity.y = -this.velocity.y * this.friction;\n        this.shatter();\n    } else {\n        this.velocity.y += this.gravity;\n    }\n\n    if (this.x + this.radius + this.velocity.x > canvas.width || this.x - this.radius <= 0) {\n        this.velocity.x = -this.velocity.x * this.friction;\n        this.shatter();\n    }\n\n    this.y += this.velocity.y;\n    this.x += this.velocity.x;\n}\n\nStar.prototype.shatter = function() {\n    this.radius -= 3;\n    for (let i = 0; i < 8; i++) {\n        miniStars.push(new MiniStar(this.x, this.y, 2));\n    }\n}\n\nfunction MiniStar(x, y, radius, color) {\n    Star.call(this, x, y, radius, color);\n    this.velocity = {\n        x: utils.randomFloat(-5, 5),\n        y: utils.randomFloat(-15, 15)\n    };\n    this.friction = 0.8;\n    this.gravity = 0.1;\n    this.ttl = 100;\n    this.opacity = 1;\n}\n\nMiniStar.prototype.draw = function() {\n    c.save()\n    c.beginPath();\n    c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    c.fillStyle = `rgba(227, 234, 239, ${this.opacity})`;\n    c.shadowColor = '#e3eaef';\n    c.shadowBlur = 20;\n    c.fill();\n    c.closePath();\n    c.restore();\n}\n\nMiniStar.prototype.update = function() {\n    this.draw();\n\n    if (this.y + this.radius + this.velocity.y > canvas.height - groundHeight) {\n        this.velocity.y = -this.velocity.y * this.friction;\n    } else {\n        this.velocity.y += this.gravity;\n    }\n    this.x += this.velocity.x;\n    this.y += this.velocity.y;\n    this.ttl -= 1;\n    this.opacity -= 1 / this.ttl; \n}\n\nfunction createMountainRange(mountainAmount, height, color) {\n    for (let i = 0; i < mountainAmount; i++) {\n        const mountainWidth = canvas.width / mountainAmount;\n        c.beginPath();\n        c.moveTo(i, canvas.height);\n        c.lineTo(i * mountainWidth + mountainWidth + 325, canvas.height);\n        c.lineTo(i * mountainWidth + mountainWidth / 2, canvas.height - height);\n        c.lineTo(i * mountainWidth - 325, canvas.height);\n        c.fillStyle = color;\n        c.fill();\n        c.closePath();\n    }\n}\n\n\nconst backgroundGradient = c.createLinearGradient(0, 0, 0, canvas.height);\nbackgroundGradient.addColorStop(0, '#171e26');\nbackgroundGradient.addColorStop(1, '#3f586b');\n\nlet stars;\nlet miniStars;\nlet backgroundStars;\nlet ticker = 0;\nlet randomSpawnRate = 75;\nlet groundHeight = 100;\n\nfunction init() {\n    stars = [];\n    miniStars = [];\n    backgroundStars = [];\n\n    for (let i = 0; i < 150; i++) {\n        const x = Math.random() * canvas.width;\n        const y = Math.random() * canvas.height;\n        const radius = Math.random() * 3;\n        backgroundStars.push(new Star(x, y, radius, '#e3eaef'));\n    }\n}\n\nfunction animate() {\n    requestAnimationFrame(animate);\n\n    c.fillStyle = backgroundGradient;\n    c.fillRect(0, 0, canvas.width, canvas.height);\n\n    backgroundStars.forEach((backgroundStar) => {\n        backgroundStar.draw();\n    })\n\n    createMountainRange(1, canvas.height - 150, '#384551');\n    createMountainRange(2, canvas.height - 250, '#2b3843');\n    createMountainRange(3, canvas.height - 700, '#26333e');\n    c.fillStyle = \"#182028\";\n    c.fillRect(0, canvas.height - groundHeight, canvas.width, groundHeight);\n\n    stars.forEach((star, index) => {\n        star.update();\n        if (star.radius <= 0) {\n            stars.splice(index, 1);\n        }\n    });\n    \n    miniStars.forEach((miniStar, index) => {\n        miniStar.update();\n        if (miniStar.ttl <= 0) {\n            miniStars.splice(index, 1);\n        }\n    });\n\n    ticker++;\n\n    if (ticker % randomSpawnRate == 0) {\n        const radius = utils.randomInt(12, 30);\n        const x = Math.max(radius, (Math.random() * canvas.width - radius));\n        stars.push(new Star(x, -100, radius, 'white'))\n        randomSpawnRate = utils.randomInt(75, 100);\n    }\n}\n\ninit();\nanimate();"]}