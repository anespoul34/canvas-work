{"version":3,"sources":["js/utils.js","js/canvasBasicCircles.js"],"names":["randomInt","min","max","Math","floor","random","randomFloat","randomColor","colors","length","getDistance","x1","y1","x2","y2","xDistance","yDistance","sqrt","pow","rotate","velocity","angle","rotatedVelocities","x","cos","y","sin","resolveCollision","particle","otherParticle","xVelocityDiff","yVelocityDiff","xDist","yDist","atan2","m1","mass","m2","u1","u2","v1","v2","vFinal1","vFinal2","module","exports","canvas","document","querySelector","c","getContext","width","innerWidth","height","innerHeight","mouse","gravity","friction","addEventListener","event","clientX","clientY","heigt","init","Circle","dx","dy","radius","color","draw","beginPath","arc","PI","fillStyle","stroke","fill","update","ball","circle1","circle2","utils","undefined","animate","requestAnimationFrame","clearRect"],"mappings":"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","file":"canvasBasicCircles.73648583.js","sourceRoot":"..","sourcesContent":["function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nfunction randomFloat(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nfunction randomColor(colors) {\n  return colors[Math.floor(Math.random() * colors.length)];\n}\n\nfunction getDistance(x1, y1, x2, y2) {\n  let xDistance = x2 - x1;\n  let yDistance = y2 - y1;\n\n  return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));\n}\n\nfunction rotate(velocity, angle) {\n  const rotatedVelocities = {\n      x: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n      y: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\n  };\n\n  return rotatedVelocities;\n}\n\nfunction resolveCollision(particle, otherParticle) {\n  const xVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n  const yVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n  \n  const xDist = otherParticle.x - particle.x;\n  const yDist = otherParticle.y - particle.y;\n\n  if (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {\n      const angle = -Math.atan2(otherParticle.y - particle.y, otherParticle.x - particle.x);\n\n      const m1 = particle.mass;\n      const m2 = otherParticle.mass;\n  \n      const u1 = rotate(particle.velocity, angle);\n      const u2 = rotate(otherParticle.velocity, angle);\n\n      const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\n      const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\n\n      const vFinal1 = rotate(v1, -angle);\n      const vFinal2 = rotate(v2, -angle);\n\n      particle.velocity.x = vFinal1.x;\n      particle.velocity.y = vFinal1.y;\n\n      otherParticle.velocity.x = vFinal2.x;\n      otherParticle.velocity.y = vFinal2.y;\n  }\n}\n\nmodule.exports = { randomInt, randomFloat, randomColor, getDistance, rotate, resolveCollision };","import utils from './utils'\n\nlet canvas = document.querySelector('canvas');\nlet c = canvas.getContext('2d');\ncanvas.width = innerWidth;\ncanvas.height = innerHeight;\n\nlet mouse = {\n    x: innerWidth / 2,\n    y: innerHeight / 2\n};\n\nconst colors = [\n    '#2185c5',\n    '#7ecefd',\n    '#fff6e5',\n    '#ff7f66'\n];\n\nlet gravity = 1;\nlet friction = 0.9;\n\naddEventListener(\"mousemove\", function(event){\n    mouse.x = event.clientX;\n    mouse.y = event.clientY;    \n});\n\naddEventListener(\"resize\", function(event) {\n    canvas.width = innerWidth;\n    canvas.heigt = innerHeight;\n\n    init();\n});\n\naddEventListener(\"click\", function(event) {\n    init();\n});\n\nfunction Circle(x, y, dx, dy, radius, color) {\n    this.x = x;\n    this.y = y;\n    this.dx = dx;\n    this.dy = dy;\n    this.radius = radius;\n    this.color = color;\n\n    this.draw = function() {\n        c.beginPath();\n        c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n        c.fillStyle = this.color;\n        c.stroke();\n        c.fill();\n    }\n    this.update = function() {\n        this.draw();\n   }\n}\n\nvar ball;\nlet circle1;\nlet circle2;\n\nfunction init() {\n    circle1 = new Circle(300, 300, 1, 1, 100, utils.randomColor(colors));\n    circle2 = new Circle(undefined, undefined, 0, 0, 30, 'red');\n}\n\nfunction animate() {\n    requestAnimationFrame(animate);\n    c.clearRect(0, 0, innerWidth, innerHeight);\n   \n    circle1.update();\n    circle2.x = mouse.x;\n    circle2.y = mouse.y;\n    circle2.update();\n\n    if (utils.getDistance(circle1.x, circle1.y, circle2.x, circle2.y) < circle1.radius + circle2.radius) {\n        circle1.color = 'blue';\n    } else {\n        circle1.color = 'yellow';\n    }\n}\n\ninit();\nanimate();"]}